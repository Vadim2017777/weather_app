{"version":3,"sources":["webpack:///./js/services/apiServiceOneDay.js","webpack:///./js/services/apiWeatherImage.js","webpack:///./js/main.js","webpack:///./templates/weather_forecast-template.hbs"],"names":["API_KEY","query","fetchImages","requestParams","this","fetch","then","response","json","catch","error","string","randomNumber","Math","floor","random","refs","input","document","getElementById","currentWeather","bodyImg","querySelector","buildWeatherItemsMarkup","items","cod","style","display","markup","weatherTemplate","insertAdjacentHTML","weatherImageBackground","searchQuery","apiServiceOneDay","baseUrl","parsedResponse","hits","channgeBodyImage","item","undefined","backgroundImage","largeImageURL","addEventListener","_","debounce","e","preventDefault","innerHTML","target","value","alert","console","warn","Handlebars","module","exports","template","container","depth0","helpers","partials","data","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","stack1","helper","alias1","nullContext","alias2","alias3","program","noop","hooks","helperMissing"],"mappings":"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","file":"main.d527c6ca5b3a9d3421a0.js","sourcesContent":["const baseUrl = 'https://api.openweathermap.org/data/2.5/weather?';\r\n\r\nexport default {\r\n  API_KEY: 'e6a412f77abd301d1f3f9864e669e17e',\r\n\r\n  query: '',\r\n  fetchImages() {\r\n    const requestParams = `q=${this.query}&units=metric&appid=${this.API_KEY}`;\r\n\r\n    return fetch(baseUrl + requestParams)\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n\r\n      .catch(error => {\r\n        throw error;\r\n      });\r\n  },\r\n\r\n  set searchQuery(string) {\r\n    this.query = string;\r\n  },\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n};\r\n","'use strict';\r\n\r\nconst baseUrl = 'https://pixabay.com/api/';\r\nconst key = '&key=16237149-31f8128048fb3bf9af47cfac8';\r\nlet randomNumber = Math.floor(Math.random() * Math.floor(12));\r\n\r\nexport function fetchImage(query) {\r\n  return fetch(\r\n    `${baseUrl}?image_type=photo&orientation=horizontal&q=${query}&per_page=12${key}`,\r\n  )\r\n    .then(response => response.json())\r\n    .then(parsedResponse => parsedResponse.hits[randomNumber]);\r\n}\r\n","'use strict';\r\n\r\nimport '../../node_modules/basiclightbox/dist/basicLightbox.min.css';\r\nimport weatherTemplate from '../templates/weather_forecast-template.hbs';\r\nimport apiServiceOneDay from '../js/services/apiServiceOneDay.js';\r\nimport { fetchImage } from '../js/services/apiWeatherImage.js';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport { alert, error } from '@pnotify/core/dist/PNotify';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport 'material-design-icons/iconfont/material-icons.css';\r\nimport _ from 'lodash';\r\n\r\nconst refs = {\r\n  input: document.getElementById('search-input'),\r\n  currentWeather: document.getElementById('weather-info-js'),\r\n  bodyImg: document.querySelector('body'),\r\n};\r\n\r\nrefs.input.addEventListener('input', _.debounce(handleInputValue, 1500));\r\nrefs.currentWeather.style.display = 'none';\r\nweatherImageBackground();\r\n\r\nfunction handleInputValue(e) {\r\n  e.preventDefault();\r\n  clearMarkup();\r\n  const searchQuery = e.target.value;\r\n  apiServiceOneDay.searchQuery = searchQuery;\r\n  e.target.value = '';\r\n  createWeatherTemplate();\r\n  weatherImageBackground();\r\n}\r\n\r\nfunction createWeatherTemplate() {\r\n  apiServiceOneDay\r\n    .fetchImages()\r\n    .then(buildWeatherItemsMarkup)\r\n    .catch(error => {\r\n      alert('Somthing bad happend');\r\n      console.warn(error);\r\n    });\r\n}\r\n\r\nfunction buildWeatherItemsMarkup(items) {\r\n  if (items.cod != '404') {\r\n    refs.currentWeather.style.display = 'flex';\r\n    const markup = weatherTemplate(items);\r\n    refs.currentWeather.insertAdjacentHTML('beforeend', markup);\r\n  } else {\r\n    refs.currentWeather.style.display = 'none';\r\n    error('No such city found');\r\n  }\r\n}\r\n\r\nfunction clearMarkup() {\r\n  refs.currentWeather.innerHTML = '';\r\n}\r\n\r\nfunction weatherImageBackground() {\r\n  let searchQuery = apiServiceOneDay.searchQuery;\r\n  fetchImage(searchQuery).then(channgeBodyImage);\r\n}\r\n\r\nfunction channgeBodyImage(item) {\r\n  if (item === undefined) {\r\n    return;\r\n  }\r\n  refs.bodyImg.style.backgroundImage = `url(\"${item.largeImageURL}\")`;\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<img src=\\\"https://openweathermap.org/img/wn/\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"icon\") : depth0), depth0))\n    + \"@2x.png\\\" alt=\\\"\\\" class=\\\"wether-img\\\" />\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.escapeExpression, alias3=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"weather\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":3,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"<div class=\\\"weather-city\\\"><span>\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":32},\"end\":{\"line\":4,\"column\":40}}}) : helper)))\n    + \" \"\n    + alias2(alias3(((stack1 = (depth0 != null ? lookupProperty(depth0,\"sys\") : depth0)) != null ? lookupProperty(stack1,\"country\") : stack1), depth0))\n    + \"</span></div>\\r\\n<div class=\\\"weather-main-temp\\\">\\r\\n    <span class=\\\"weather-main-temp__sp \\\"> \"\n    + alias2(alias3(((stack1 = (depth0 != null ? lookupProperty(depth0,\"main\") : depth0)) != null ? lookupProperty(stack1,\"temp\") : stack1), depth0))\n    + \" </span><span class=\\\"mainspdeg\\\">\\r\\n        &deg;</span>\\r\\n</div>\\r\\n<div class=\\\"weather-minmax-cont\\\">\\r\\n    <div class=\\\"weather-mintemp\\\">\\r\\n        <span class=\\\"minsp\\\">min</span><br /><span class=\\\"minsptemp\\\">\"\n    + alias2(alias3(((stack1 = (depth0 != null ? lookupProperty(depth0,\"main\") : depth0)) != null ? lookupProperty(stack1,\"temp_min\") : stack1), depth0))\n    + \"&deg;</span>\\r\\n    </div>\\r\\n    <div class=\\\"weather-maxtemp\\\">\\r\\n        <span class=\\\"minsp\\\">max</span><br /><span class=\\\"minsptemp\\\">\"\n    + alias2(alias3(((stack1 = (depth0 != null ? lookupProperty(depth0,\"main\") : depth0)) != null ? lookupProperty(stack1,\"temp_max\") : stack1), depth0))\n    + \"&deg;</span>\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}